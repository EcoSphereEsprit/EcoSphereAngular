<p-toast key="mainMsgs"></p-toast>
<div>
    <div class="card">
        <div
            class="relative overflow-hidden h-20rem bg-primary flex flex-column align-items-center justify-content-center border-round mb-8">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320" class="absolute w-full top-0 left-0">
                <path fill="var(--primary-600)" fill-opacity="1"
                    d="M0,64L48,90.7C96,117,192,171,288,208C384,245,480,267,576,256C672,245,768,203,864,165.3C960,128,1056,96,1152,74.7C1248,53,1344,43,1392,37.3L1440,32L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z">
                </path>
            </svg>
            <div class="font-bold mb-5 text-4xl z-1">Coupon Generation</div>
            <span class="p-input-icon-left w-9 md:w-6">
                <input readonly="true" [value]="couponCode" type="text" pInputText
                    [style]="{'border-radius':'2rem', 'align-content':'center'}" class="w-full" />
            </span>
        </div>

        <div class="grid mb-5">
            <div class="col-12 md:col-4 mb-5"></div>
            <div class="col-12 md:col-4 mb-5">
                <div class="flex flex-column align-items-center">
                    <button pButton pRipple type="button" (click)="generateCoupon()"
                        class="inline-flex align-items-center justify-content-center border-circle w-5rem h-5rem bg-primary-100 mb-5"><i
                            class="pi pi-refresh text-4xl text-primary-700"></i></button>

                    <div class="text-2xl mb-3 font-medium">Generate</div>
                    &nbsp;
                    <div class="p-inputgroup mb-3">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <span class="p-inputgroup-addon">
                            <i class="pi pi-envelope"></i>
                        </span>
                        <input type="email" [(ngModel)]="userMail" name="email" autocomplete="off" pInputText
                            placeholder="Email" class="block" style="max-width: 320px; min-width: 270px;"
                            [required]="true" email #emailCtrl="ngModel">
                        <button pButton pRipple label="Send" icon="pi pi-upload" (click)="sendCouponToUser()"></button>
                    </div>
                    <div *ngIf="emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched)" class="error-messages">
                        <small *ngIf="emailCtrl.errors?.['required']" class="p-error">Email is required.</small>
                        <small *ngIf="emailCtrl.errors?.['email']" class="p-error">Invalid email address.</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>