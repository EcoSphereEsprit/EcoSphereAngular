<div [class]="'login-body flex min-h-screen ' + (layoutService.config.colorScheme === 'light' ? 'layout-light' : 'layout-dark')">
    <div class="login-image w-6 h-screen hidden md:block" style="max-width: 490px;">
        <img [src]="'assets/layout/images/pages/newpassword-' + (layoutService.config.colorScheme === 'dark' ? 'ondark' : 'onlight') + '.png'"
             alt="atlantis" class="h-screen w-full">
    </div>
<p-toast key="tst"></p-toast>
    <div class="w-full" style="background:var(--surface-ground)">
        <div class="p-fluid min-h-screen bg-auto md:bg-contain bg-no-repeat text-center w-full flex align-items-center md:align-items-start justify-content-center flex-column"
             style="padding: 20% 10% 20% 10%; background:var(--exception-pages-image)">
            <div class="flex flex-column">
                <div class="flex align-items-center mb-6 logo-container">
                    <img [src]="'assets/layout/images/logo-' + (layoutService.config.colorScheme === 'light' ? 'dark' : 'light') + '.png'"
                         class="login-logo" style="width: 45px;" />
                    <img [src]="'assets/layout/images/appname-' + (layoutService.config.colorScheme === 'light' ? 'dark' : 'light') + '.png'"
                         class="login-appname ml-3" style="width: 100px;" />
                </div>

                <div class="form-container text-left" style="max-width: 320px; min-width: 270px;">
                    <h4 class="m-0 mb-2">New Password</h4>
                    <span class="block text-600 font-medium mb-4">Enter your new password</span>

                    <!-- New Password -->
                    <span class="p-input-icon-left">
                        <i class="pi pi-key"></i>
                        <input type="password" autocomplete="off" pInputText placeholder="New Password"
                               [(ngModel)]="password" class="block mb-3" />
                    </span>

                    <!-- Confirm Password -->
                    <span class="p-input-icon-left">
                        <i class="pi pi-key"></i>
                        <input type="password" autocomplete="off" pInputText placeholder="Confirm Password"
                               [(ngModel)]="confirmPassword" class="block mb-3" />
                    </span>

                    <!-- OTP Type Dropdown -->
                    <p-dropdown 
                        [options]="[{label:'Mail OTP', value:'mail'}, {label:'AUTH OTP', value:'auth'}]" 
                        [(ngModel)]="otpType" 
                        placeholder="Select OTP Type"
                        class="block mb-3">
                    </p-dropdown>

                    <!-- Email Field (if mail OTP selected) -->
                    <span class="p-input-icon-left">
                        <i class="pi pi-envelope"></i>
                        <input type="email" autocomplete="off" pInputText
                               [(ngModel)]="email" 
                               (blur)="onEmailBlur()" 
                               placeholder="Enter your email" 
                               class="block mb-3" />
                    </span>

                    <!-- OTP Input -->
                    <span class="p-input-icon-left">
                        <i class="pi pi-shield"></i>
                        <input type="text" autocomplete="off" pInputText [(ngModel)]="otp" placeholder="Enter OTP"
                               class="block mb-3" />
                    </span>
                </div>

                <!-- Action Buttons -->
                <div class="button-container mt-4" style="max-width: 320px; min-width: 270px;">
                    <div class="buttons flex align-items-center gap-3">
                        <button type="button" pButton label="Cancel" [routerLink]="['/']"
                                class="block p-button-danger p-button-outlined" style="margin-bottom: 32px;"></button>
                        <button type="button" pButton label="Submit" (click)="verifyOtp()" class="block"
                                style="margin-bottom: 32px;"></button>
                    </div>
                </div>
            </div>

            <div class="login-footer flex align-items-center absolute" style="bottom: 75px;">
                <div class="flex align-items-center login-footer-logo-container pr-4 mr-4 border-right-1 surface-border">
                    <img src="assets/layout/images/logo-gray.png" class="login-footer-logo" style="width: 22px;" />
                    <img src="assets/layout/images/appname-gray.png" class="login-footer-appname ml-2" style="width: 45px;" />
                </div>
                <span class="text-sm text-color-secondary mr-3">Copyright 2021</span>
            </div>
        </div>
    </div>
</div>
