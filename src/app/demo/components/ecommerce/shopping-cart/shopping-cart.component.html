<div class="card">
    <ul class="list-none p-0 m-0">
        <!-- Cart items list -->
        <li *ngFor="let item of cart; let i = index" class="flex flex-column md:flex-row py-6 border-top-1 border-bottom-1 surface-border md:align-items-center">
            <!-- Item image -->
            <img [src]="'assets/demo/images/ecommerce/productoverview/product-overview-3-1.png'" class="w-12rem flex-shrink-0 mx-auto md:mx-0" />
            <!-- Item details and controls -->
            <div class="flex-auto py-5 md:pl-5">
                <!-- Item name -->
                <div class="flex flex-wrap align-items-start sm:align-items-center sm:flex-row sm:justify-content-between surface-border pb-6">
                    <div class="w-full sm:w-6 flex flex-column">
                        <span class="text-900 text-xl font-medium mb-3">{{ item.name }}</span>
                    </div>
                    <!-- Quantity input and remove link -->
                    <div class="w-full sm:w-6 flex align-items-start justify-content-between mt-3 sm:mt-0">
                        <!-- Quantity input -->
                        <div>
                            <input type="number" class="quantity-input" [(ngModel)]="item.quantity" (input)="updateQuantity(i, item.quantity)" />
                        </div>
                        <!-- Subtotal and remove link -->
                        <div class="flex flex-column sm:align-items-end">
                            <!-- Item subtotal -->
                            <span class="text-900 text-xl font-medium mb-2 sm:mb-3">${{ (item.price * item.quantity).toFixed(2) }}</span>
                            <!-- Remove item link -->
                            <a class="cursor-pointer text-pink-500 font-medium text-sm hover:text-pink-600 transition-colors transition-duration-300" tabindex="0" (click)="removeItem(i)">Remove</a>
                        </div>
                    </div>
                </div>
                <!-- Additional item details -->
                <div class="flex flex-column">
                    <span class="inline-flex align-items-center mb-3">
                        <i class="pi pi-envelope text-700 mr-2"></i>
                        <span class="text-700 mr-2">Commander aujourd'hui</span>
                    </span>
                    <span class="inline-flex align-items-center mb-3">
                        <i class="pi pi-send text-700 mr-2"></i>
                        <span class="text-700 mr-2">Vous dera livré <span class="font-bold">Dec 23.</span></span>
                    </span>
                    <span class="flex align-items-center">
                        <i class="pi pi-exclamation-triangle text-700 mr-2"></i>
                        <span class="text-700">Reste quelques articles</span>
                    </span>
                </div>
            </div>
        </li>
    </ul>

    <!-- Cart totals section -->
    <div class="flex mt-4">
        <div class="flex-auto">
            <!-- Subtotal -->
            <div class="flex justify-content-between mb-4">
                <span class="text-xl text-900 font-semibold">Sous Total</span>
                <span class="text-xl text-900">${{ subtotal.toFixed(2) }}</span>
            </div>
            <!-- VAT -->
            <div class="flex justify-content-between mb-4">
                <span class="text-xl text-900 font-semibold">VAT</span>
                <span class="text-xl text-900">${{ vat.toFixed(2) }}</span>
            </div>
            <!-- Shipping cost -->
            <div class="flex justify-content-between mb-4">
                <span class="text-xl text-900 font-semibold">Frais de Livraison</span>
                <span class="text-xl text-900">{{ shippingCost === 0 ? 'Free' : '$' + shippingCost.toFixed(2) }}</span>
            </div>
            <!-- Payment method selection -->
            <div class="flex mt-4">
                <div class="flex-auto">
                    <!-- Payment method radio buttons -->
                    <p-radioButton name="paymentMethod" value="card" label="Payment by Card" (click)="updatePaymentMethod('card')" [(ngModel)]="paymentMethod"></p-radioButton>
                    <label for="paymentMethodCard">Payer par carte</label>
                    
                    <p-radioButton name="paymentMethod" value="cod" label="Cash on Delivery (+$7 shipping)" (click)="updatePaymentMethod('cod')" [(ngModel)]="paymentMethod"></p-radioButton>
                    <label for="paymentMethodCod">Payer à la livraison (+$7)</label>
                </div>
            </div>
            
            <!-- Total amount section -->
            <div class="flex justify-content-between border-top-1 surface-border mb-4 pt-4">
                <span class="text-xl text-900 font-bold text-3xl">Total</span>
                <span class="text-xl text-900 font-bold text-3xl">${{ total.toFixed(2) }}</span>
            </div>
        </div>
    </div>

    <!-- Facturation (Checkout) button section -->
    <div class="flex flex-column align-items-center mb-6">
        <div class="text-900 text-4xl mb-4 font-medium">Total à payer ${{ total.toFixed(2) }}</div>
        <button pButton pRipple label="Facturation" (click)="checkout()"></button>
    </div>
</div>
